---
description: Instructions on how to stake/unstake $DESO and run a validator
---

# 1️⃣ Run a Validator

## Getting Help from the Community <a href="#h.7vr9ab79ocun" id="h.7vr9ab79ocun"></a>

If you get stuck at any point, [go here for help](../openfund/the-deso-python-sdk/getting-help-from-the-community.md).

## Video Walkthroughs <a href="#h.7vr9ab79ocun" id="h.7vr9ab79ocun"></a>

* [An Overview of DeSo](https://www.google.com/url?q=https://www.youtube.com/watch?v%3DKXBTlSryNwA\&sa=D\&source=editors\&ust=1720503194993230\&usg=AOvVaw1P4wF7ok3tOeGmN-FKLMRZ)
* [Staking and Unstaking $DESO](https://www.google.com/url?q=https://www.youtube.com/watch?v%3DViIJ6VMRENo%26feature%3Dyoutu.be\&sa=D\&source=editors\&ust=1720503194993554\&usg=AOvVaw3SVx-lR6a6m0H3uP22DrRP)
  * For Mainnet, use [explorer.deso.com/validators](https://www.google.com/url?q=https://explorer.deso.com/validators\&sa=D\&source=editors\&ust=1720503194993782\&usg=AOvVaw3NjwImbq8S6SWdBCkxmD29)
  * For Testnet, use [explorer-testnet.deso.com/validators](https://www.google.com/url?q=https://explorer-testnet.deso.com/validators\&sa=D\&source=editors\&ust=1720503194993913\&usg=AOvVaw3RckY4HfuGm_FICSfw79DX)
* [Running a Node and Validator](https://www.google.com/url?q=https://www.loom.com/share/8ea0dc18fe204678b2665fecbafbf874?sid%3D37ab0e0e-ec1c-4530-bda4-c8b314298dbf\&sa=D\&source=editors\&ust=1720503194994260\&usg=AOvVaw3SnpLWshcbt-2HFkSBGDAA)
  * IMPORTANT: [See updates and extra notes here](https://www.google.com/url?q=https://docs.google.com/document/d/1q39rKRgua-rLSCbq842elIu_V7siRn-2aMn_c3IG3ag/edit\&sa=D\&source=editors\&ust=1720503194994542\&usg=AOvVaw1Vb6ief8J7S9Aqfi8VjJBv)

## Getting Started <a href="#h.vaab5azenvay" id="h.vaab5azenvay"></a>

* **Background:**
  * [What is DeSo?](https://www.google.com/url?q=https://deso.com\&sa=D\&source=editors\&ust=1720503194994945\&usg=AOvVaw1S11-Ld78F-rvbliLTG7l_)
  * [Our vision](https://www.google.com/url?q=https://docs.deso.org/\&sa=D\&source=editors\&ust=1720503194995143\&usg=AOvVaw1cogkeRRdSE96QMD5Vx9Ti)
  * [Current roadmap](https://www.google.com/url?q=https://docs.deso.org/deso-roadmap\&sa=D\&source=editors\&ust=1720503194995361\&usg=AOvVaw3fK3gPElyr-nNiQb27o9eB)
  * [Focus](https://www.google.com/url?q=https://focus.xyz\&sa=D\&source=editors\&ust=1720503194995538\&usg=AOvVaw27wq2Q6CzCsenzeloRCszV) (Coming Soon!)
  * [What is Revolution Proof of Stake?](https://www.google.com/url?q=https://revolution.deso.com/\&sa=D\&source=editors\&ust=1720503194995749\&usg=AOvVaw0usuSgK_Mmq3Tswwa2Y0hm)
    * 1 second confirmation times
    * 500 posts per second (\~10% of Twitter Scale)
    * 20% APY
    * No slashing
    * Quick-unstaking
    * Burn-maximizing fees
    * Fully permission-less and decentralized
  * [Resources](https://docs.google.com/document/u/1/d/e/2PACX-1vTBJidczUhRBhl2hTo_75o8md0RNwFguF_FeUEG_CkooN5dMLBrGyqcXvIu5efE9iAhC8ZqRr_S89Ml/pub#h.gcb427f1q4hl)
* **Staking:**
  * [Staking Your $DESO](https://docs.google.com/document/u/1/d/e/2PACX-1vTBJidczUhRBhl2hTo_75o8md0RNwFguF_FeUEG_CkooN5dMLBrGyqcXvIu5efE9iAhC8ZqRr_S89Ml/pub#h.1owmq1kzue21)
  * [Unstaking your $DESO](https://docs.google.com/document/u/1/d/e/2PACX-1vTBJidczUhRBhl2hTo_75o8md0RNwFguF_FeUEG_CkooN5dMLBrGyqcXvIu5efE9iAhC8ZqRr_S89Ml/pub#h.qe2fcaayxtb)
* **Running a Node & Validator**
  * [Running a Node](https://docs.google.com/document/u/1/d/e/2PACX-1vTBJidczUhRBhl2hTo_75o8md0RNwFguF_FeUEG_CkooN5dMLBrGyqcXvIu5efE9iAhC8ZqRr_S89Ml/pub#h.85kweyti5tlv)
  * [Running a Validator](https://docs.google.com/document/u/1/d/e/2PACX-1vTBJidczUhRBhl2hTo_75o8md0RNwFguF_FeUEG_CkooN5dMLBrGyqcXvIu5efE9iAhC8ZqRr_S89Ml/pub#h.79y85q98fhdi)

## Resources <a href="#h.gcb427f1q4hl" id="h.gcb427f1q4hl"></a>

* [deso.com](https://www.google.com/url?q=https://deso.com\&sa=D\&source=editors\&ust=1720503194997379\&usg=AOvVaw1uZW3409CJ-nz6rFVhxwbR)
  * [Current roadmap](https://www.google.com/url?q=https://docs.deso.org/deso-roadmap\&sa=D\&source=editors\&ust=1720503194997648\&usg=AOvVaw0vfOQaORDWyeCq4IhN3lsD)
* Block explorers:
  * [Mainnet block explorer](https://www.google.com/url?q=https://explorer.deso.com\&sa=D\&source=editors\&ust=1720503194997989\&usg=AOvVaw2699kku36pIIMimwLb8-22) ([legacy explorer](https://www.google.com/url?q=https://explorer.deso.org/\&sa=D\&source=editors\&ust=1720503194998169\&usg=AOvVaw0FPzzgSwCrk3_HUiXJOsqn))
  * [Testnet block explorer](https://www.google.com/url?q=https://explorer-testnet.deso.com/\&sa=D\&source=editors\&ust=1720503194998461\&usg=AOvVaw1f-uKZOUvFstxKffCWOmOF) ([legacy explorer](https://www.google.com/url?q=https://explorer.deso.org/?query-node%3Dhttps:%252F%252Ftest.deso.org\&sa=D\&source=editors\&ust=1720503194998659\&usg=AOvVaw06EyOPcKqQmiiullVuswEi))
  * Note: The legacy explorer is more accurate, but much less readable. If you run into an issue with the main explorer, always check back with the legacy explorer for now.
* Validator Hubs:
  * [Mainnet validator hub](https://www.google.com/url?q=https://explorer.deso.com/validators\&sa=D\&source=editors\&ust=1720503194998986\&usg=AOvVaw1ACqGhRtFJnXyNCYwuPgnh)
  * [Testnet validator hub](https://www.google.com/url?q=https://explorer-testnet.deso.com/validators\&sa=D\&source=editors\&ust=1720503194999178\&usg=AOvVaw02R496bT7UWEKd3cTdIJUs)
* Managing funds, managing identity, and generating transactions:
  * [The DeSo Wallet](https://www.google.com/url?q=https://wallet.deso.com/\&sa=D\&source=editors\&ust=1720503194999399\&usg=AOvVaw2_F7oQ72XplTE0KPys7AYJ) (and the [Testnet DeSo Wallet](https://www.google.com/url?q=https://wallet-testnet.deso.com/\&sa=D\&source=editors\&ust=1720503194999536\&usg=AOvVaw2piTIS4QALfp7KGdcRdsRf))
    * You can manage your funds here, or using the reference nodes listed below, or using any app built on DeSo, including [Diamond](https://www.google.com/url?q=https://diamondapp.com\&sa=D\&source=editors\&ust=1720503194999750\&usg=AOvVaw2b8d0uW_3qIhSFlxoUWu8T), [Openfund](https://www.google.com/url?q=https://openfund.com\&sa=D\&source=editors\&ust=1720503194999899\&usg=AOvVaw0co2vPjWq_2n3tALkDbaJC), and [Focus](https://www.google.com/url?q=https://focus.xyz\&sa=D\&source=editors\&ust=1720503195000027\&usg=AOvVaw2F3cQyL6bGz-qQz5qi3nmc) (Coming Soon!).
    * Every DeSo app, including the wallet, has access to the same blockchain data, so it doesn’t matter which app you use to manage your account.
    * Technically, your DeSo public/private keys are managed locally in your browser by the [DeSo Identity iFrame](https://www.google.com/url?q=https://docs.deso.org/deso-blockchain/privacy-and-security%23do-deso-applications-have-access-to-my-seed-phrase\&sa=D\&source=editors\&ust=1720503195000458\&usg=AOvVaw2KfbM7tqlz-hJ8umjFu3ym), which allows you to sign transactions on any app on the web (with approval). It’s exactly like MetaMask, only it doesn’t require you to install a browser extension, and it can do much more than send/receive funds.
* [Mainnet Reference Node](https://www.google.com/url?q=https://node.deso.org/\&sa=D\&source=editors\&ust=1720503195000648\&usg=AOvVaw2xhUMmM4tvxbw2bWvtJk2X) (and the [Testnet Reference Node](https://www.google.com/url?q=https://test.deso.org/\&sa=D\&source=editors\&ust=1720503195000808\&usg=AOvVaw3cotlIKlW94MhnQ-Kbzk22))
  * The reference nodes can generate the full set of DeSo transactions, including making posts, following users, etc…, which the wallet app may not be able to do. You can also try other nodes like [Diamond](https://www.google.com/url?q=https://diamondapp.com\&sa=D\&source=editors\&ust=1720503195001030\&usg=AOvVaw1UehhmztpzEFtLOHG9GdHo), [Openfund](https://www.google.com/url?q=https://openfund.com\&sa=D\&source=editors\&ust=1720503195001185\&usg=AOvVaw34u7yHwLqz4vjzTf4dCMAI), or [Focus](https://www.google.com/url?q=https://focus.xyz\&sa=D\&source=editors\&ust=1720503195001346\&usg=AOvVaw2_AHi047e4-7L_SDkY5RmG) (Coming Soon!)
  * Enter your phone number on the testnet node to get 1 testnet $DESO to test your apps with
* Other recommended nodes:
  * [Diamond](https://www.google.com/url?q=https://diamondapp.com\&sa=D\&source=editors\&ust=1720503195001689\&usg=AOvVaw0DsTUjcEwdlN0UBlNGvpHD), [DeSocialWorld](https://www.google.com/url?q=https://desocialworld.com\&sa=D\&source=editors\&ust=1720503195001817\&usg=AOvVaw00612Z7xHE364tngOeFZp5), [Openfund](https://www.google.com/url?q=https://openfund.com\&sa=D\&source=editors\&ust=1720503195001959\&usg=AOvVaw2_FAO78YT90U9aY8zhtsrq), [Focus](https://www.google.com/url?q=https://focus.xyz\&sa=D\&source=editors\&ust=1720503195002111\&usg=AOvVaw0qv9xNHoEHf-1tljAOlPCV) (Coming Soon!)
  * You can also run your own node locally on your own computer!
* [The DeSo Docs](https://www.google.com/url?q=https://docs.deso.org/\&sa=D\&source=editors\&ust=1720503195002352\&usg=AOvVaw33W_2S0LlUSSzVwwWFf5ck)
  * Use CTRL+K to find documentation on any transaction type, or any other information you may need.
  * These docs will be refreshed after the launch of Revolution PoS on mainnet so note that some things may be out of date!
  * Good starting points:
    * [Current Roadmap](https://www.google.com/url?q=https://docs.deso.org/deso-roadmap\&sa=D\&source=editors\&ust=1720503195002740\&usg=AOvVaw0NGrUqGCR9vEjJXfN-UyrQ)
    * [List of Notable DeSo Apps](https://www.google.com/url?q=https://docs.deso.org/deso-applications\&sa=D\&source=editors\&ust=1720503195002931\&usg=AOvVaw20C2NX8OczFmw28a3uWWA2)
    * [Building a DeSo App](https://www.google.com/url?q=https://docs.deso.org/deso-tutorial-build-apps\&sa=D\&source=editors\&ust=1720503195003131\&usg=AOvVaw1rsbzfbl_Wzxg9rMG4JtsQ) (Getting Started)
    * [Architecture Overview](https://www.google.com/url?q=https://docs.deso.org/deso-repos/architecture-overview\&sa=D\&source=editors\&ust=1720503195003304\&usg=AOvVaw3E1LJx8t-3VpqyN7KlRhu-)
* [Exchange listing API](https://www.google.com/url?q=https://docs.deso.org/deso-exchange-listings/exchange-listing-api\&sa=D\&source=editors\&ust=1720503195003573\&usg=AOvVaw2ndD5F9vsFNHmG_lZl12NA)
  * $DESO is currently listed on [Coinbase](https://www.google.com/url?q=https://www.coinbase.com/advanced-trade/spot/DESO-USD\&sa=D\&source=editors\&ust=1720503195003820\&usg=AOvVaw3YhNSw3s54rBVUdd2sPKvU), [Gate](https://www.google.com/url?q=https://www.gate.io/trade/DESO_USDT?ref%3D3018394\&sa=D\&source=editors\&ust=1720503195003953\&usg=AOvVaw1-q9UFr73NIEpC6OEvPcdb), and [Huobi](https://www.google.com/url?q=https://www.htx.com/trade/deso_usdt?invite_code%3Dd8c53\&sa=D\&source=editors\&ust=1720503195004082\&usg=AOvVaw0RsBe-OA7PUq0fg4oG2NEq).
  * It can also be traded permissionlessly via the DeSo DEX on [Openfund](https://www.google.com/url?q=https://openfund.com/trade/deso\&sa=D\&source=editors\&ust=1720503195004269\&usg=AOvVaw08zhRM-XX39fmRl-km-dR8) or [HeroSwap](https://www.google.com/url?q=https://heroswap.com\&sa=D\&source=editors\&ust=1720503195004376\&usg=AOvVaw3UfkK1iWSFc7as6Wx5rJdl).
  * $DESO can be listed on any exchange permissionlessly using this guide.
* [About Revolution Proof of Stake](https://www.google.com/url?q=https://revolution.deso.com/\&sa=D\&source=editors\&ust=1720503195004589\&usg=AOvVaw0TkH21kS1nNpQEVaHg8l1W)

## Staking Your $DESO <a href="#h.1owmq1kzue21" id="h.1owmq1kzue21"></a>

Some info about staking with [Revolution Proof of Stake](https://www.google.com/url?q=https://revolution.deso.com/\&sa=D\&source=editors\&ust=1720503195004909\&usg=AOvVaw3QnhXsoI9Mbm1MvaZ2ZsUK):

* **20% APY to start.** The APY for staking your $DESO starts at 20% and adjusts depending on how much $DESO is staked on the network. You can always see an updated APY on the validators page on the block explorer ([mainnet](https://www.google.com/url?q=https://explorer.deso.com/validators\&sa=D\&source=editors\&ust=1720503195005157\&usg=AOvVaw3fx1mPHEsO3JaSZVXFUfX_), [testnet](https://www.google.com/url?q=https://explorer-testnet.deso.com/validators\&sa=D\&source=editors\&ust=1720503195005305\&usg=AOvVaw32ykBeqMktKaxRhxWq2xgi))\

* Revolution Proof of Stake makes a lot of improvements over state-of-the-art PoS systems, including Cosmos, Solana, and Ethereum. Some benefits of staking with Revolution are listed below:
  * **No slashing.** Revolution does not require slashing of stake. Instead, validators who are unresponsive are automatically “jailed” for a period of time, preventing them from harming consensus until they have resolved their issues. The only risk of staking to a bad validator is that you will miss out on rewards if they have downtime.\

  * **Quick unlocks.** Unlocking one’s stake takes only two hours, compared to weeks to months with \
    other protocols. And this amount will be decreased even further in the future.\

  * **Fully permissionless and decentralized.** Revolution is permissionless and does not require a minimum amount of stake to become a validator. The idea was to reproduce the level of permission-lessness of Proof of Work systems, but in a Proof of Stake context.\

* Learn more about Revolution and its many other breakthroughs by reading [the docs here](https://www.google.com/url?q=https://revolution.deso.com/\&sa=D\&source=editors\&ust=1720503195005829\&usg=AOvVaw3X_o7xnjNGHJtEXmxd3HF7).

**Staking your $DESO:**

* For Testnet only:
  * Pick up some free testnet $DESO
    * Visit [https://test.deso.org](https://www.google.com/url?q=https://test.deso.org\&sa=D\&source=editors\&ust=1720503195006186\&usg=AOvVaw0X21zHELERJPi6CM_ykFgN)
    * Create an account
    * When creating an account you can enter your phone number to get 1 free testnet $DESO from the faucet
    * Note that testnet $DESO does not have any value outside of the test environment!\

* Now that you have $DESO, head to the block explorer
  * [Testnet link](https://www.google.com/url?q=https://explorer-testnet.deso.com/\&sa=D\&source=editors\&ust=1720503195006535\&usg=AOvVaw1myxrpTi86UHU5d9hPL3EK)
  * [Mainnet link](https://www.google.com/url?q=https://explorer.deso.com/\&sa=D\&source=editors\&ust=1720503195006696\&usg=AOvVaw2FjShc1dnSm9CzgrPwGPpc)\

* Login to the block explorer by hitting “Login” in the top-right and selecting the account that holds your $DESO\

* After logging in, select Validators > Stats from the top menu
  * Note the APY at the top. This amount will change depending on how many people are staking\

* Choose a validator to stake to and click on their username
  * Note that you can sort validators by their Commission percentage, the number of stakers, and their total staked\

* Once on the validator’s page, click “Stake” and fill in the amount you want to stake\

* That’s it!

## Unstaking your $DESO <a href="#h.qe2fcaayxtb" id="h.qe2fcaayxtb"></a>

* Go back to the main validator page on the block explorer
  * [Testnet link](https://www.google.com/url?q=https://explorer-testnet.deso.com/validators\&sa=D\&source=editors\&ust=1720503195007487\&usg=AOvVaw3lTZ_tdrqDn8LNuTMsAv4U)
  * [Mainnet link](https://www.google.com/url?q=https://explorer.deso.com/validators\&sa=D\&source=editors\&ust=1720503195007662\&usg=AOvVaw03wk4x_yQYHDH80B2vD3Ok)
* Make sure you are logged in with the account that originally staked the $DESO
*   Click “Unstake” on the /validators page



    <figure><img src="https://lh7-us.googleusercontent.com/docsz/AD_4nXcEkkwvj0js0ELMCvTp13orX8ZZqBH7umCP1w1pjinaONdjMnu1ig0QmBJK4U2ZCpCtpR-tdGNN1q3smS_M0g2buiyEeMPqagBjVW_z9LlzGxyBfzSJhnQhr8fC0jeIUwXhr6ikFzOk9zPBqujSFa-4TzQj?key=Oj9nXlPuOUnCJ5YUj2muHA" alt=""><figcaption></figcaption></figure>
* Select the amount of stake you want to remove
* Hit “Update Stake”
*   After you unstake, your stake appears as a “Locked Stake Entry” and is locked for a 3 hour cooldown period. This prevents anyone from gaming the leader selection algorithm. You can see how much time is left before you can unlock by clicking “View Details.”



    <figure><img src="https://lh7-us.googleusercontent.com/docsz/AD_4nXczF-QtB1mfiTZu13WzWG4kZYGAZOAtcyfwWLH3-fE0zQnQjFT9phghuRP672HrkwdWZlv-dBPrScHTwB7leyfoRiVZz9E3sktSMcNXmTy1DIjz0S5U3bT1cyhsIuBt0W_PcgIwbVL6Q7tpsWqo5RHUq1lk?key=Oj9nXlPuOUnCJ5YUj2muHA" alt=""><figcaption></figcaption></figure>

    * Note that other protocols require weeks or months of cooldown, but Revolution PoS only requires three hours, and we aim to decrease this even further over time.
* After the cooldown period is over, you just hit “Unlock” on the locked stake entry to get your $DESO

## Running a Node <a href="#h.85kweyti5tlv" id="h.85kweyti5tlv"></a>

A **node** on the DeSo network is any machine that has a full copy of the blockchain, and that other nodes can sync from. When you run a node, you start by syncing data from other nodes on the network until you have a full copy of the network’s “state.” Once you’re up-to-date, you stay online and get new blocks as they’re proposed. Note that you don’t need to participate in consensus in order to run a node. You just need to stay up to date by downloading all the new blocks as they’re proposed.

A **validator** is a node that participates in consensus. With Revolution, validators vote on each new block that is proposed and propose blocks when it’s their turn to be “leader.” Being a validator means that you take on the responsibility of validating blocks but it also means you can earn a commission from anyone who stakes to you.

### Minimum Requirements <a href="#h.8qhon4v4xa14" id="h.8qhon4v4xa14"></a>

* Mainnet
  * Minimum:
    * RAM: 32GB
    * CPU: 4 cores (less may be OK)
    * Disk: 200GB
    * Notes
      * If you are running the minimum configuration, you must use --sync-type=blocksync. This is because using --sync-type=hypersync or --sync-type=hypersync-archival will cause you to exceed your RAM requirements
  * Recommended:
    * RAM: 64GB - 256GB
      * 128GB will be the safest bet, and will allow you to run with --sync-type=hypersync and --sync-type=hypersync-archival, which will sync your node much faster. However, if you’re building a machine from scratch to be a validator, we’d recommend you make it upgrade-able to 256GB in case we decide to increase requirements in the future. We have a recommended build below that achieves this.
    * CPU: 8 cores (less may be OK)
    * Disk: 500GB (less may be OK)
    * Recommended build (premium):
      * [24-core/48-thread, 256GB RAM, 4TB NVME ssd](https://www.google.com/url?q=https://newegg.io/cb6a734d\&sa=D\&source=editors\&ust=1720503195009580\&usg=AOvVaw0lUHJo9eB3M4QW_cHBPUsg)
      * You will also need [this Enermax cooler for your CPU](https://www.google.com/url?q=https://www.amazon.com/gp/product/B07H778NCW/ref%3Dppx_yo_dt_b_search_asin_title?ie%3DUTF8%26th%3D1\&sa=D\&source=editors\&ust=1720503195009807\&usg=AOvVaw004aurDIXheyaUskDRpd0n)
      * If you want, you can order less RAM to make the build a bit cheaper. The CPU is tough to downsize, though, because there aren’t many that support 8 RAM slots, which is \
        what we want everyone to have for future-proofing.\

* Testnet
  * Minimum and recommended:
    * RAM: 32gb
    * CPU: 2 cores
    * Disk: 50gb
  * Notes
    * Testnet currently requires --sync-type=blocksync, but this should be fixed soon.\

* Validator Requirements
  * In order to be a validator, your node must have a static IP and, ideally, a human-readable domain attached to that IP. We walk through setting that up in the video tutorial.

### Node Setup (Using Docker) <a href="#h.qddg2lmsopoz" id="h.qddg2lmsopoz"></a>

* **Get a machine.** First, you need to provision a machine with the minimum requirements. We walk through that in the video tutorial.
  * We recommend you run your machine from your house for maximum decentralization (and fun!). But provisioning a node on AWS or Google Cloud works great too.
  * Whatever you do, we recommend you run Ubuntu to minimize issues, but note that many members of the core team run nodes on Mac OS.
  * We have not tested thoroughly on Windows, but it should work. And if you run into issues you can always run your node from an Ubuntu virtual machine on Windows, e.g. using VirtualBox.\

* **Clone the run repo.** [The “run” repo here](https://www.google.com/url?q=https://github.com/deso-protocol/run\&sa=D\&source=editors\&ust=1720503195010995\&usg=AOvVaw0wJo4Lf4HIQ5DkMCJp3sFU) contains everything you need to get a node running with, a frontend interface attached. Some notes on using the run repo:
  * Start by cloning the run repo onto your node.
  * This branch has several docker-compose files. Let’s take a look at [testnet.docker-compose.yml](https://www.google.com/url?q=https://github.com/deso-protocol/run/blob/feature/proof-of-stake/testnet.docker-compose.yml\&sa=D\&source=editors\&ust=1720503195011260\&usg=AOvVaw36N3A5nxKRFD6YXwreYVrl):
    * It sets up a service named backend. This is the service that will connect to the rest of the network and sync data from it.\
      \
      The backend service has two ports: a “protocol” port `18000`, where other nodes connect to it, and an “API” port `18001`, which exposes a bunch of convenience endpoints and powers the frontend.\

    * It also sets up a service called “frontend” and “nginx” service. This allows you to visually manipulate your node.\

* **Run your node!** To run your node, all you have to do is type “`make testnet`” (if you have a permission error, use “`sudo make testnet`”). This will automatically run the testnet.docker-compose.yml and set up the backend+frontend+nginx services.
  * If you run into issues or you want to start “from scratch”, the Makefile also defines a command called “`make testnet-wipe`”, which will wipe everything your node has done and start over.
  * **To run a mainnet node, simply run “`make mainnet`” instead of “`make testnet`”.**
    * Note that this will leverage the `mainnet.docker-compose.yml` instead.\

*   **Access your node’s frontend.** Once your docker-compose is running, you can access your node using its reference frontend at `yournodesdomain.com:8080`. To properly access your frontend, you need to visit this address and set a key-value in local storage that tells your frontend the address of your node’s API endpoint.\
    \
    The key is “`lastLocalNodeV2`” and the value should be `"yournodesdomain.com:18001"` if you ran `make testnet` and `"yournodesdomain.com:17001"` if you ran `make mainnet`. \
    \
    See screenshot below for an example from the video. Once you set this, you can access your node’s frontend at `yournodesdomain.com:8080` and tweak it via the Admin panel. \
    \
    We will have improved docs on this soon!



    <figure><img src="https://lh7-us.googleusercontent.com/docsz/AD_4nXeRvJt8rx9tySY4EmhBtL8bHzy188bGFpu0bMxAfP4xNo4Pi_y9RFZDU4wzwXuLuJdj2SjMU_IeHA9IMDgb1powoW3FkSBof55cjlm83_qXaFF5wmokx2ecuHEfvB6rrSHnIdIi5jg7QCMyCnjVLZWFJZ0M?key=Oj9nXlPuOUnCJ5YUj2muHA" alt=""><figcaption><p>Update the value for "lastLocalNodeV2"</p></figcaption></figure>

### Node Setup (From Source) <a href="#h.vdjummgkx9ho" id="h.vdjummgkx9ho"></a>

TODO: Make this more clear and show a video doing this on a new node from scratch.

* [Go through this tutorial and checkout all the repos listed](https://www.google.com/url?q=https://docs.deso.org/deso-tutorial-build-apps\&sa=D\&source=editors\&ust=1720503195012057\&usg=AOvVaw13zbuDPqRkvR_9Ha5Kj3X_)
* After that you should have \*at least\* the following repos locally:
  * core
  * backend
  * frontend
* cd backend/scripts/nodes
* For mainnet run `./n0`. For testnet run `./n0_test`
* If you want, you can play with all the flags in those files to get different behavior.

If you’re interested in a walkthrough of the code, check out our [Architecture Overview](https://www.google.com/url?q=https://docs.deso.org/deso-repos/architecture-overview\&sa=D\&source=editors\&ust=1720503195012546\&usg=AOvVaw2ufsWYKUDyP-dbH6q8Kvoe)

## Running a Validator <a href="#h.79y85q98fhdi" id="h.79y85q98fhdi"></a>

A validator on the DeSo network is responsible for voting on new blocks as they’re proposed, and for proposing valid blocks when it’s their turn to be leader. Validators can be staked to by anyone on the network, and they earn a commission on the rewards that accrue to all of the $DESO that is staked to them.

Below are the instructions for setting up a validator. We assume you’ve read through how to set up a node in the previous sections:

* Testnet only:
  * First, pick up some free testnet $DESO
  * Visit [https://test.deso.org](https://www.google.com/url?q=https://test.deso.org\&sa=D\&source=editors\&ust=1720503195012989\&usg=AOvVaw0yavsq_hnUcwBSYYGerden)
  * Create an account
  * When creating an account you can enter your phone number to get 1 free testnet $DESO from the faucet
  * Note that testnet $DESO does not have any value outside of the test environment!\

* Now that you have $DESO, head to the block explorer
  * [Testnet link](https://www.google.com/url?q=https://explorer-testnet.deso.com/\&sa=D\&source=editors\&ust=1720503195013414\&usg=AOvVaw1ZE5UyvxPH8-MdyKQYCEQK)
  * [Mainnet link](https://www.google.com/url?q=https://explorer.deso.com/\&sa=D\&source=editors\&ust=1720503195013581\&usg=AOvVaw1vRlIzJY12OfqfJySci5dx)\

* Login to the block explorer by hitting “Login” in the top-right and selecting the account that holds your $DESO\

* After logging in, select Validators > Stats from the top menu
  * Note the APY at the top. This amount will change depending on how many people are staking\

*   Register your validator. To register your validator, hit the “Run a Validator” button in the top right.



    <figure><img src="https://lh7-us.googleusercontent.com/docsz/AD_4nXeYyA0yMIUyfyLUP83z3mHYTbx5Rlx8bP0aMbKywzKdVMPoNZbRkao2BKICEjL9mxDcgCA-fgN0PDMcKv-XzWt1O-pOaXX2LkYDW74fyyH29cM86aJqRAKznsxd7gzBoJyNR9x84Ez0x33UKVzwoUNP4KPJ?key=Oj9nXlPuOUnCJ5YUj2muHA" alt=""><figcaption><p>Click Run a Validator<br></p></figcaption></figure>
* Registering your validator consists of broadcasting a transaction on-chain signed by your validator private key. The UI in the block explorer helps you form this transaction, but you can also do it permissionlessly with a script if you prefer. This tutorial will focus on using the UI to do it.\

* **Getting all of the fields right.** The registration transaction requires a bunch of fields shown on the “Run a Validator” page. We walk through each one and how to set it up below.\

  * **Add Domain.**
    * **Static IP (covered in the video tutorial).** First, your validator must have a static IP address for your node and it should ideally have a domain associated with that IP address. AWS and Google Cloud make it very easy to have a static IP, but setting one up for your home is easy as well (and fun), although you will have to call your cable provider to do it.\

    * **Registering a domain (covered in the video tutorial).** Once you have an IP address associated with your node, you can associate a domain with it simply by setting a single A record on your DNS settings just like you would for a normal website. See sirstakesalot.com for an example.\

    * **Default ports.** By default, your testnet node will expose a protocol port on `18000` and an API port on `18001`. For mainnet, the default ports are `17000` and `17001`.
      * The protocol port is the one that matters for consensus, as it’s what nodes use to connect to you and send you blocks. The API port is mainly used to power a frontend that you can use to manage your node.
      * When you register your validator, you need to include the protocol port, and so your registration string will look like “example.com:18000” for testnet or “example.com:17000” for mainnet.
      * You can also change the ports to whatever you want, just as long as the string in your registration transaction matches what your node is actually doing.\

    *   **Run your node and make sure it’s exposed to the outside world.** Once you have your static IP and domain, you can use the validator registration UI to check your node’s connection. \
        \
        You can also use this curl command, but replace your domain and port with what your node is running on (for mainnet, node you must use port `17001`):

        * `curl` [`http://sirstakesalot.com:18001/api/v0/health-check`](https://www.google.com/url?q=http://sirstakesalot.com:18001/api/v0/health-check\&sa=D\&source=editors\&ust=1720503195014735\&usg=AOvVaw3aV-kYEYnFUyvUgsAV-0hh)
          * Note this is querying the API port `18001` not the protocol port. This is usually fine but the UI will actually check your protocol port.



        <figure><img src="https://lh7-us.googleusercontent.com/docsz/AD_4nXfkzzOxoK5TSPn4i3VvtCQb0RZftfNxyqQMSwlsLsrvxZHrtCpbfpBk2FRAJT_LaKXXLcuAAK2_Gs1UJWr9O-SOZqDfWjY5wQlfRZ8Ej8Xr02aSyj0DY-SjiqqKL4VyBXeVUwuFn0XmIFnRjsvd_4sXmLhk?key=Oj9nXlPuOUnCJ5YUj2muHA" alt=""><figcaption><p>Click "Test"<br></p></figcaption></figure>
  * **Setting up your voting public key.** Once your validator is reachable by the outside world, you need to set up your voting public key. This is the key that you’ll use to sign consensus messages like votes or block proposals. Below we explain how to generate this keypair.\

    * **First, generate a seed.** Your validator keypair can be generated from an ordinary 12-word seed phrase, just like the one you get on any DeSo app. You can either use one that’s associated with an existing profile or a brand new one that you designate just for PoS messages.\

    * **Next, get the public key and authorization bytes.** Once you have a seed phrase you like, you need to use [this validator key generator](https://www.google.com/url?q=https://github.com/deso-protocol/validator-key-generator\&sa=D\&source=editors\&ust=1720503195015440\&usg=AOvVaw2nifvX4og_kZSxbPNRd3W3) script to generate a voting public key and a voting authorization, which you will enter into the UI.\

      * Why is this necessary? The reason is that your validator keys are BLS keys, while your standard DeSo keys are ECDSA private keys. BLS keys allow for “signature aggregation,” which is needed by Revolution PoS, and hence even if you use the same seed for both your DeSo account and your validator, you will need to use this script to generate a voting public key that is distinct from your DeSo public key.\

      * The other benefit of having a script to generate the pubkey+authorization is that it allows for totally offline generation of validator pubkey and authorization, which is needed by custodians and exchanges that want to stake.\

    * **Set POS\_VALIDATOR\_SEED in your config.** Note that there is one missing step in the video, which is you need to set your `POS_VALIDATOR_SEED` in the `testnet.docker-compose.yml` or `mainnet.docker-compose.yml` file to be **equal** to the seed you used with the [validator key generator](https://www.google.com/url?q=https://github.com/deso-protocol/validator-key-generator\&sa=D\&source=editors\&ust=1720503195015904\&usg=AOvVaw1BfinK5cUp9norf8mSS4zI). This is how your validator becomes capable of signing blocks with its bls keypair.\

  * **Commission.** This is what percentage of the staking rewards you get to keep. A lower commission will attract more people to stake with you.\

  * **Delegated stake.** If you disable this, nobody will be able to stake to your validator except you. This is useful if you just want to run a validator to manage your own stake.\

  * **Announcements and Discussion Telegrams.** Please join these telegrams to get your passwords! You can register without joining these, but then you may miss out on critical updates.
    * [Discussion Telegram](https://www.google.com/url?q=https://t.me/deso_pos_discussion\&sa=D\&source=editors\&ust=1720503195016353\&usg=AOvVaw0hw11KFldrvc2HpCsav4_X)
    * [Announcements Telegram](https://www.google.com/url?q=https://t.me/deso_pos_announcements\&sa=D\&source=editors\&ust=1720503195016567\&usg=AOvVaw3ZSbA4mvIz-yEnYfrmoTRo)\

* **Time to register!** Once you’ve filled in all the fields, hit the “Register Validator” button. This will construct and submit a transaction that links your voting public key with your node’s public domain+port and your DeSo profile (the one that you’re logged-in with). Linking all of these together on-chain makes it so that 1. other nodes can connect to your validator node and 2. people can stake to your validator node. Exciting!\

* **Keeping your validator up.** If your validator is down for a 12-hour period, it will be “jailed.” You will see this in the validator UI.\
  \
  To **unjail** your validator, you will need to go back to the [validator registration page](https://explorer.deso.com/validator-settings) after you’ve fixed your node and hit “Unjail Validator.” \
  \
  Note that there will be a cooldown of a few hours before your validator is able to vote in consensus again.

Once your validator is registered, it should appear immediately on the validators page. You can then stake to it following the prior instructions.
